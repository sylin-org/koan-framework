{
  "Koan": {
    "Data": {
      "Mongo": {
        "Database": "Meridian",
        "ConnectionString": "mongodb://meridian-mongo:27017"
      },
      "Vector": {
        "Provider": "weaviate",
        "Endpoint": "http://localhost:5081",
        "Profiles": {
          "meridian:evidence": {
            "TopK": 12,
            "Alpha": 0.5,
            "Description": "Hybrid search profile for passage-level evidence retrieval"
          }
        }
      },
      "Weaviate": {
        "Endpoint": "http://localhost:5081"
      }
    },
    "Storage": {
      "DefaultProfile": "meridian",
      "Providers": {
        "Local": {
          "BasePath": "./storage"
        }
      },
      "Profiles": {
        "meridian": {
          "Provider": "local",
          "Container": "pipelines"
        }
      }
    },
    "Ai": {
      "Ollama": {
        "RequiredModels": [
          "deepseek-r1:14b"
        ],
        "DefaultModel": "deepseek-r1:14b",
        "RequestTimeoutSeconds": 600
      }
    }
  },
  "Meridian": {
    "Retrieval": {
      "TopK": 12,
      "Alpha": 0.5,
      "MmrLambda": 0.7,
      "MaxTokensPerField": 2000
    },
    "Extraction": {
      "ParallelismDegree": 0,
      "Model": "deepseek-r1:14b",
      "Temperature": 0.3,
      "MaxOutputTokens": 500,
      "Ocr": {
        "Enabled": true,
        "BaseUrl": "http://meridian-tesseract:8884/",
        "Endpoint": "tesseract",
        "TimeoutSeconds": 90,
        "ConfidenceFloor": 0.6
      }
    },
    "Merge": {
      "EnableExplainability": true,
      "EnableCitations": true,
      "EnableNormalizedComparison": true,
      "DefaultSourcePrecedence": [
        "AuditedFinancial",
        "VendorPrescreen",
        "KnowledgeBase",
        "Unclassified"
      ],
      "Policies": {
        "$.revenue": {
          "Strategy": "sourcePrecedence",
          "SourcePrecedence": [
            "AuditedFinancial",
            "VendorPrescreen",
            "KnowledgeBase"
          ],
          "Transform": "normalizeToUsd"
        },
        "$.employees": {
          "Strategy": "latest",
          "Transform": "numberRounding:0"
        },
        "$.product_lines": {
          "Strategy": "collection",
          "CollectionStrategy": "union",
          "Transform": "dedupeFuzzy"
        },
        "$.compliance_status": {
          "Strategy": "consensus",
          "ConsensusMinimumSources": 2,
          "Transform": "stringToEnum"
        },
        "$.executive_summary": {
          "Strategy": "highestConfidence"
        }
      }
    },
    "Classification": {
      "HeuristicConfidenceThreshold": 0.9,
      "VectorConfidenceThreshold": 0.75
    },
    "Rendering": {
      "Pandoc": {
        "Enabled": true,
        "BaseUrl": "http://meridian-pandoc:7070/",
        "Endpoint": "render",
        "TimeoutSeconds": 240,
        "SanitizeLatex": true
      }
    },
    "Confidence": {
      "LowThreshold": 0.7,
      "HighThreshold": 0.9
    },
    "Facts": {
      "ExtractionModel": "granite3.3:8b",
      "ExtractionTemperature": 0.0
    }
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Koan": "Information",
      "Koan.Samples.Meridian": "Debug"
    }
  },
  "AllowedHosts": "*"
}
