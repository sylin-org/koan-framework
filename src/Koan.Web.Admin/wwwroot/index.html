<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Koan Admin Dashboard</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="api/status/styles/module-visuals.css" />
</head>
<body>
  <header>
    <div class="header-row">
      <div>
        <h1>Koan Admin Dashboard</h1>
        <p class="subtitle">Runtime diagnostics, feature visibility, LaunchKit exports</p>
      </div>
      <div class="toolbar">
        <label class="toggle">
          <input type="checkbox" id="auto-refresh" />
          <span>Auto-refresh</span>
        </label>
        <button id="refresh-btn" type="button">Refresh</button>
      </div>
    </div>
  </header>
  <main>
    <section id="environment" class="card full-width">
      <h2>Environment</h2>
      <div class="content environment-content"></div>
    </section>
    <section id="modules" class="card full-width">
      <h2>Modules</h2>
      <div class="content modules-content"></div>
    </section>
    <section id="provenance" class="card">
      <h2>Setting Provenance</h2>
      <div class="content legend-content">
        <p class="muted">Badges describe where values originate and which components consume them.</p>
        <div class="legend-grid">
          <div class="legend-item">
            <span class="tag tag-source">App Settings</span>
            <span>Value supplied via configuration files or structured providers.</span>
          </div>
          <div class="legend-item">
            <span class="tag tag-source">Environment</span>
            <span>Value sourced from environment variables or host process state.</span>
          </div>
          <div class="legend-item">
            <span class="tag tag-source">Auto</span>
            <span>Framework default applied when no explicit override was detected.</span>
          </div>
          <div class="legend-item">
            <span class="consumer-chip">Koan.Web.Auth.ProviderRegistry</span>
            <span>Consumer chips list downstream subsystems that rely on the setting.</span>
          </div>
          <div class="legend-item">
            <span class="tag tag-capability">auth.discovery</span>
            <span>Tool capability tags describe the permission required to invoke the surface.</span>
          </div>
        </div>
      </div>
    </section>
    <section id="capabilities" class="card">
      <h2>Capabilities</h2>
      <div class="content capabilities-content"></div>
    </section>
    <section id="health" class="card">
      <h2>Health</h2>
      <div class="content health-content"></div>
    </section>
    <section id="notes" class="card">
      <h2>Startup Notes</h2>
      <div class="content notes-content"></div>
    </section>
    <section id="launchkit" class="card">
      <h2>LaunchKit Bundles</h2>
      <div class="content launchkit-content">
        <p class="loading">Loading LaunchKit metadata…</p>
      </div>
    </section>
  </main>
  <footer>
    <span>Koan Admin</span>
    <span class="divider">•</span>
    <span class="timestamp" id="generated-at"></span>
  </footer>
  <script type="module" src="app.js"></script>
</body>
</html>
